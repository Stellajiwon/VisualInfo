// 데이터
const data = [
    0.0821307073, 0.0558630119, 0.0500470725, 0.047924537, 0.0474980559, 0.0464640075, 0.0466690408,
    0.0468343978, 0.047469387, 0.0486078461, 0.0493430633, 0.0503213601, 0.0513082038, 0.0532368814,
    0.054276587, 0.0559140515, 0.0575255661, 0.0593399121, 0.0609574225, 0.0625428484, 0.0641049241,
    0.0661576785, 0.0677516097, 0.069538029, 0.0712691311, 0.0728902611, 0.0750496777, 0.0772725067,
    0.0786151094, 0.0807969898, 0.0823219585, 0.0848734827, 0.0865260835, 0.087895815, 0.0892985377,
    0.0907834695, 0.0919371101, 0.0932242562, 0.0943852809, 0.0955253053, 0.0965402869, 0.0973143765,
    0.0986426224, 0.0997270564, 0.100315456, 0.100970066, 0.102444679, 0.103157912, 0.104330129,
    0.105502126, 0.106747211, 0.107807949, 0.108971527, 0.110062023, 0.111475232, 0.112407792,
    0.114025724, 0.115427988, 0.11665567, 0.117562921, 0.118604361, 0.120297369, 0.121539942,
    0.122901657, 0.124127608, 0.125388589, 0.126915018, 0.128254595, 0.12945619, 0.130559503,
    0.131702883, 0.133031755, 0.13423128, 0.135413062, 0.136704605, 0.137878902, 0.138825373,
    0.139681557, 0.140110489, 0.140960844, 0.141717696, 0.142164667, 0.143239779, 0.144416762,
    0.145236926, 0.145594936, 0.145843167, 0.146071644, 0.146549567, 0.146753821, 0.147210888,
    0.14759014, 0.147860405, 0.14804264, 0.148273386, 0.14816835, 0.148305599, 0.148695245,
    0.149168777, 0.149620844, 0.149988617, 0.150042358, 0.150073135, 0.150504488, 0.150803406,
    0.150935981, 0.150901227, 0.150922389, 0.151155605, 0.151156794, 0.151943862, 0.152415898,
    0.152718843, 0.153032035, 0.152899842, 0.152844542, 0.152614789, 0.152926948, 0.154240358,
    0.155018483, 0.154724855, 0.154681615, 0.154274725, 0.153476985, 0.153928886
];

// SVG 설정
const svg = d3.select("svg"),
    margin = { top: 20, right: 30, bottom: 40, left: 40 },
    width = +svg.attr("width") - margin.left - margin.right,
    height = +svg.attr("height") - margin.top - margin.bottom;

const x = d3.scaleBand()
    .domain(data.map((d, i) => i))
    .range([margin.left, width - margin.right])
    .padding(0.1);

const y = d3.scaleLinear()
    .domain([0, d3.max(data)]).nice()
    .range([height - margin.bottom, margin.top]);

const xAxis = g => g
    .attr("transform", `translate(0,${height - margin.bottom})`)
    .call(d3.axisBottom(x).tickFormat(i => i).tickSizeOuter(0));

const yAxis = g => g
    .attr("transform", `translate(${margin.left},0)`)
    .call(d3.axisLeft(y))
    .call(g => g.select(".domain").remove())
    .call(g => g.append("text")
        .attr("x", -margin.left)
        .attr("y", 10)
        .attr("fill", "currentColor")
        .attr("text-anchor", "start")
        .text("초분광밴드"));

svg.append("g")
    .selectAll(".bar")
    .data(data)
    .enter().append("rect")
      .attr("class", "bar")
      .attr("x", (d, i) => x(i))
      .attr("y", d => y(d))
      .attr("width", x.bandwidth())
      .attr("height", d => height - margin.bottom - y(d))
      .attr("fill", "steelblue");

svg.append("g")
    .call(xAxis);

svg.append("g")
    .call(yAxis);

